<div class="container">
  <!--novalidate will prevent form from browser level validation if any-->
<form #userForm="ngForm" novalidate (ngSubmit)="onSubmit()">
  <!-- {{userForm.value |json}}
  <hr>
  {{user |json}} -->
  <div class="form-group">
    <label>Name</label>
    <input type="text" #name="ngModel" [class.is-invalid]="name.invalid && name.touched"
     required class="form-control" name="userName" [(ngModel)]="user.name">
     <small class="text-danger" [class.d-none]="name.valid || name.untouched">
       Name is required.
      </small>
  </div>
 
  <div class="form-group">
    <label>Email</label>
    <input type="email" #email="ngModel" class="form-control" name="email" [(ngModel)]="user.email">
  </div>
 
  <div class="form-group">
    <label>Phone</label>
    <input type="text" class="form-control" name="phone" [(ngModel)]="user.phone">
  </div>
  <!-- <div ngModelGroup="address">
    <div class="form-group">
      <label>Street</label>
    <input type="text" class="form-control" name="street" ngModel>
    </div>
    <div class="form-group">
      <label>City</label>
    <input type="text" class="form-control" name="city" ngModel>
    </div>
    <div class="form-group">
      <label>State</label>
    <input type="text" class="form-control" name="state" ngModel>
    </div>
    <div class="form-group">
      <label>Pin Code</label>
    <input type="text" class="form-control" name="pincode" ngModel>
    </div>
  </div> -->
  <div class="form-group">
    <select (blur)="validateTopic(topic.value)" (change)="validateTopic(topic.value)" 
    class="custom-select" #topic="ngModel" required
    [class.is-invalid]="topicHasError && topic.touched" name="topic" 
    [(ngModel)]="user.topic">
      <option value="default">I am interested in</option>
      <option *ngFor="let topic of topics">{{topic}}</option>
    </select>
    <small class="text-danger" 
    [class.d-none]="!topicHasError || topic.untouched">Please choose a topic</small>
  </div>
  <div class="form-group">
    <label>Time Preference</label>
    <div class="form-check">
      <input type="radio" [(ngModel)]="user.time" class="form-check-input" name="time" value="morning">
      <label class="form-check-label">Morning (9 AM to 12 PM)</label>
    </div>
    <div class="form-check">
      <input type="radio" [(ngModel)]="user.time" class="form-check-input" name="time" value="evening">
      <label class="form-check-label">Evening (5 PM to 8 PM)</label>
    </div>
  </div>
  <div class="form-group">
    <div class="form-check">
      <input type="checkbox" name="subscribe" [(ngModel)]="user.subscribe" class="form-check-input">
      <label class="form-check-label">Subscribe me</label>
    </div>
  </div>
  <button [disabled]="userForm.form.invalid || topicHasError"
   type="submit" class="btn btn-primary">Submit Form</button>
  <!-- {{userForm.form.valid}} -->
</form>
</div>